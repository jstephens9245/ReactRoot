{"version":3,"sources":["webpack:///./client/actions/note.js?46db"],"names":["receiveNote","receiveNotes","selectNote","getNote","getAllNotes","createNote","note","type","payload","notes","noteId","moveNote","id","left","top","noteArrayIndexPush","noteArr","zIndexNotes","addNoteToBoard","newNote","setNoteCoords","deleteNote","deletedNote","dispatch","get","then","res","data","Promise","all","catch","console","warn","err","noteMover","IndexToZIndex","dragNoteId","newNoteArr","dragNoteIndex","map","indexOf","dragNote","splice","push","notesDelete","newArr","deleteNoteId","deleteNoteIndex","deleteNotesFromDatabase","deleteNotesArr","forEach","delete","deleted","log","userId","boardId","params","post","content","color"],"mappings":"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","file":"0.afb3569052ee9a971a23.hot-update.js","sourcesContent":["import axios from 'axios';\nimport { DELETE_NOTE, NOTE_ARRAY_INDEX_PUSH, SET_NOTE_COORDS, ADD_NOTE_TO_BOARD, RECEIVE_NOTES, RECEIVE_NOTE, SELECT_NOTE, MOVE_NOTE} from '../constants';\nimport {socketEmit} from './socketio';\n\nexport function receiveNote(note) {\n  return {\n    type   : RECEIVE_NOTE,\n    payload: note\n  };\n}\n\nexport function receiveNotes(notes) {\n  return {\n    type   : RECEIVE_NOTES,\n    payload: notes\n  };\n}\n\nexport function selectNote(noteId) {\n  return {\n    type   : SELECT_NOTE,\n    payload: {noteId}\n  };\n}\n\nexport const moveNote = (id, left, top) => {\n  return {\n    type : MOVE_NOTE,\n    notes: {\n      [id]: {left, top}\n    }\n  };\n};\n\n\nexport const noteArrayIndexPush = (noteArr) => {\n  return {\n    type       : NOTE_ARRAY_INDEX_PUSH,\n    zIndexNotes: noteArr\n  };\n};\n\nexport const addNoteToBoard = (note) => {\n  return {\n    type   : ADD_NOTE_TO_BOARD,\n    newNote: note\n  };\n};\n\n\nexport const setNoteCoords = (note) => {\n  return {\n    type: ADD_NOTE_TO_BOARD,\n    note: note\n  };\n};\n\nexport const deleteNote = (note) => {\n  return {\n    type       : DELETE_NOTE,\n    deletedNote: note\n  };\n};\n\n\nexport function getNote(noteId) {\n  return (dispatch) =>\n  axios.get(`/api/notes/${noteId}`)\n    .then(res => res.data)\n    .then(note => dispatch(receiveNote(note)))\n    .then(note => {\n      return Promise.all([\n        note,\n        dispatch(selectNote(noteId))\n      ]);\n    })\n    .then(([ note ]) => note)\n    .catch(err => console.warn(err));\n}\n\nexport const noteMover = (id, left, top) => {\n  const data = {[id]: {left, top}};\n\n  return dispatch => {\n    dispatch(socketEmit('moveNote', data));\n    dispatch(moveNote(id, left, top));\n\n\n  };\n};\n\n\nexport const IndexToZIndex = (notes, dragNoteId) => {\n  return dispatch => {\n\n    const newNoteArr = notes;\n    const dragNoteIndex = notes.map((note) => { return note.id; }).indexOf(dragNoteId);\n    const dragNote = notes[dragNoteIndex];\n\n    newNoteArr.splice(dragNoteIndex, 1);\n    newNoteArr.push(dragNote);\n\n    dispatch(noteArrayIndexPush(newNoteArr));\n  };\n};\n\nexport const notesDelete = (noteId, notes) => {\n  return dispatch => {\n    const newArr = notes;\n    const deleteNoteId = noteId;\n    const deleteNoteIndex = notes.map((note) => { return note.id; }).indexOf(deleteNoteId);\n    const deletedNote = notes[deleteNoteIndex];\n\n    newArr.splice(deleteNoteIndex, 1);\n    dispatch(deleteNote(deletedNote));\n    dispatch(receiveNotes(newArr));\n\n  };\n};\n\nexport const deleteNotesFromDatabase = (deleteNotesArr) => {\n  deleteNotesArr.forEach(note => {\n    axios.delete(`/api/notes/${note.id}`)\n      .then((deleted) => (console.log('DELETED NOTES', deleted)))\n      .catch(err => console.log('deleteNotes from datatbase had an error'));\n\n  });\n};\n\nexport function getAllNotes({userId, boardId}) {\n  return dispatch =>\n    axios.get('/api/notes/', {params: {userId, boardId}})\n      .then(res => {\n        return res.data;\n      })\n      .then(notes => dispatch(receiveNotes(notes)))\n      .catch(err => console.warn(err));\n}\n\n\nexport function createNote(note, boardId) {\n  return dispatch =>\n    axios.post('/api/notes/', {\n      content: note.content,\n      color  : note.color,\n      boardId: boardId || note.boardId\n    })\n      .then(({data}) => {\n        dispatch(socketEmit('note', data));\n      })\n      .catch(err => console.warn(err));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/actions/note.js\n **/"],"sourceRoot":""}