{"version":3,"sources":["webpack:///./client/actions/user.js?7a66","webpack:///./client/containers/SignupContainer.js?9ae4"],"names":["setLoginUser","user","type","removeLoginUser","receiveUserQuery","matchedUsers","payload","createUser","firstName","lastName","email","username","password","post","first_name","last_name","then","dispatch","res","data","catch","console","error","err","loginUser","logoutUser","delete","searchUsername","get","params","limit","checkLoginStatus","SignupContainer","props","state","display","dirty","submitForm","bind","handleInput","changeForm","loginForm","setState","nextProps","loggedInUser","router","push","e","preventDefault","target","name","value","warning","mapStateToProps","userReducer","mapDispatchToProps"],"mappings":"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","file":"0.84a7dd699d11331f9a7e.hot-update.js","sourcesContent":["import axios from 'axios';\nimport {browserHistory} from 'react-router';\n\nimport { SET_LOGIN_USER, REMOVE_LOGIN_USER, RECEIVE_USER_QUERY } from '../constants' ;\n\n\nexport const setLoginUser = (user) => ({\n  type: SET_LOGIN_USER,\n  user\n});\n\nexport const removeLoginUser = () => ({\n  type: REMOVE_LOGIN_USER,\n});\n\nexport const receiveUserQuery = (matchedUsers) => ({\n  type   : RECEIVE_USER_QUERY,\n  payload: matchedUsers\n});\n\nexport const createUser = (firstName, lastName, email, username, password) => dispatch => {\n  return axios.post('/api/user/', {first_name: firstName, last_name: lastName, username, email, password })\n    .then(res => {\n      dispatch(setLoginUser(res.data));\n    }).catch(err => console.error(err));\n};\n\nexport const loginUser = (email, password) => dispatch => {\n  return axios.post('/api/auth/', { email: email, password: password })\n    .then(res => {\n      dispatch(setLoginUser(res.data));\n    }).catch(err => console.error(err));\n};\n\nexport const logoutUser = () => dispatch => {\n  return axios.delete('/api/auth/')\n    .then(res => dispatch(removeLoginUser(res.data)))\n    .catch(err => console.error(err));\n};\n\nexport const searchUsername = (username) => dispatch => {\n  return axios.get('/api/user/', {\n    params: {\n      searchUsername: username,\n      limit         : 6\n    }\n  })\n    .then(res => {\n      dispatch(receiveUserQuery(res.data));\n    })\n    .catch(err => console.error(err));\n};\n\n/* check login state by calling server and checking user sessions */\nexport const checkLoginStatus = () => dispatch => {\n  return axios.get('/api/auth/')\n    .then(res => {\n      return res;\n    })\n    .then(res => dispatch(setLoginUser(res.data)))\n    .catch(err => console.error(err));\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/actions/user.js\n **/","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport {createUser, loginUser, checkLoginStatus} from '../actions/user';\nimport Signup from '../components/Signup';\nimport Login from '../components/Login';\n\nimport isEmpty from 'lodash/isEmpty';\nimport ReactTransitionGroup from 'react-addons-css-transition-group';\n\n\nexport class SignupContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type     : 'signup',\n      firstName: '',\n      lastName : '',\n      email    : '',\n      username : '',\n      password : '',\n      display  : false,\n      dirty    : false,\n    };\n\n    this.submitForm = this.submitForm.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.changeForm = this.changeForm.bind(this);\n    this.loginForm = this.loginForm.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.checkLoginStatus();\n    this.setState({display: true});\n  }\n\n  componentWillReceiveProps(props, nextProps) {\n    if (!isEmpty(props.loggedInUser)) {\n      this.props.router.push('/');\n    }\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    this.props.createUser(this.state.firstName,\n    this.state.lastName, this.state.email, this.state.username, this.state.password);\n  }\n\n  loginForm(e) {\n    e.preventDefault();\n    this.props.loginUser(this.state.email, this.state.password);\n    this.setState({dirty: true});\n  }\n\n  changeForm(type) {\n    this.setState({dirty: false});\n    this.setState({type: type});\n  }\n\n  handleInput(e) {\n    this.setState({[e.target.name]: e.target.value});\n  }\n\n  render() {\n    const dirty = this.state.dirty;\n    let warning = '';\n\n    if (dirty) warning = 'Password or Email is Invalid';\n\n    return (\n      <ReactTransitionGroup\n      transitionName=\"slideIn\"\n      transitionAppear={true}\n      transitionAppearTimeout={500}\n      transitionEnterTimeout={500}\n      transitionLeaveTimeout={500}>\n        <div className={`form-container ${this.state.type}`} >\n          {this.state.type === 'signup' ?\n            <Signup submitForm={this.submitForm}\n                    changeForm={this.changeForm}\n                    handleInput={this.handleInput}\n                    warning={warning} />\n                    :\n            <Login loginForm={this.loginForm}\n                  handleInput={this.handleInput}\n                  changeForm={this.changeForm}\n                  warning={warning} />\n          }\n        </div>\n    </ReactTransitionGroup>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loggedInUser: state.userReducer.loggedInUser\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  createUser: (firstName, lastName, email, username, password) =>\n  dispatch(createUser(firstName, lastName, email, username, password)),\n  loginUser       : (email, password) => dispatch(loginUser(email, password)),\n  checkLoginStatus: () => dispatch(checkLoginStatus())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/containers/SignupContainer.js\n **/"],"sourceRoot":""}