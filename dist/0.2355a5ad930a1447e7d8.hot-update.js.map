{"version":3,"sources":["webpack:///./client/actions/note.js?46db","webpack:///./client/utils/stringHash.js?68ef","webpack:///./client/containers/CreateBoardContainer.js?82f3","webpack:///./client/actions/board.js?c61f"],"names":["receiveNote","receiveNotes","selectNote","getNote","getAllNotes","createNote","note","type","payload","notes","noteId","moveNote","id","left","top","noteArrayIndexPush","noteArr","zIndexNotes","addNoteToBoard","newNote","setNoteCoords","deleteNote","deletedNote","dispatch","get","then","res","data","Promise","all","catch","console","warn","err","noteMover","IndexToZIndex","dragNoteId","newNoteArr","dragNoteIndex","map","indexOf","dragNote","splice","push","notesDelete","newArr","deleteNoteId","deleteNoteIndex","deleteNotesFromDatabase","deleteNotesArr","forEach","delete","deleted","log","userId","boardId","params","post","content","color","genRoomName","range","genShortHash","val","string","toString","Error","unique","mapStateToProps","state","ownProps","user","userReducer","loggedInUser","boards","board","allBoards","permissions","mapDispatchToProps","create","boardName","onBoardEnter","CB","props","filterStatus","filterChange","bind","filterValue","setState","CreateBoardContainer","receiveBoard","receiveAllBoards","addNewBoard","permission","getAllBoards","createBoard","hash","getBoard","boardHash"],"mappings":"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","file":"0.2355a5ad930a1447e7d8.hot-update.js","sourcesContent":["import axios from 'axios';\nimport { DELETE_NOTE, NOTE_ARRAY_INDEX_PUSH, SET_NOTE_COORDS, ADD_NOTE_TO_BOARD, RECEIVE_NOTES, RECEIVE_NOTE, SELECT_NOTE, MOVE_NOTE} from '../constants';\nimport {socketEmit} from './socketio';\n\nexport function receiveNote(note) {\n  return {\n    type   : RECEIVE_NOTE,\n    payload: note\n  };\n}\n\nexport function receiveNotes(notes) {\n  return {\n    type   : RECEIVE_NOTES,\n    payload: notes\n  };\n}\n\nexport function selectNote(noteId) {\n  return {\n    type   : SELECT_NOTE,\n    payload: {noteId}\n  };\n}\n\nexport const moveNote = (id, left, top) => {\n  return {\n    type : MOVE_NOTE,\n    notes: {\n      [id]: {left, top}\n    }\n  };\n};\n\n\nexport const noteArrayIndexPush = (noteArr) => {\n  return {\n    type       : NOTE_ARRAY_INDEX_PUSH,\n    zIndexNotes: noteArr\n  };\n};\n\nexport const addNoteToBoard = (note) => {\n  return {\n    type   : ADD_NOTE_TO_BOARD,\n    newNote: note\n  };\n};\n\n\nexport const setNoteCoords = (note) => {\n  return {\n    type: ADD_NOTE_TO_BOARD,\n    note: note\n  };\n};\n\nexport const deleteNote = (note) => {\n  return {\n    type       : DELETE_NOTE,\n    deletedNote: note\n  };\n};\n\n\nexport function getNote(noteId) {\n  return (dispatch) =>\n  axios.get(`/api/notes/${noteId}`)\n    .then(res => res.data)\n    .then(note => dispatch(receiveNote(note)))\n    .then(note => {\n      return Promise.all([\n        note,\n        dispatch(selectNote(noteId))\n      ]);\n    })\n    .then(([ note ]) => note)\n    .catch(err => console.warn(err));\n}\n\nexport const noteMover = (id, left, top) => {\n  const data = {[id]: {left, top}};\n\n  return dispatch => {\n    dispatch(socketEmit('moveNote', data));\n    dispatch(moveNote(id, left, top));\n\n\n  };\n};\n\n\nexport const IndexToZIndex = (notes, dragNoteId) => {\n  return dispatch => {\n\n    const newNoteArr = notes;\n    const dragNoteIndex = notes.map((note) => { return note.id; }).indexOf(dragNoteId);\n    const dragNote = notes[dragNoteIndex];\n\n    newNoteArr.splice(dragNoteIndex, 1);\n    newNoteArr.push(dragNote);\n\n    dispatch(noteArrayIndexPush(newNoteArr));\n  };\n};\n\nexport const notesDelete = (noteId, notes) => {\n  return dispatch => {\n    const newArr = notes;\n    const deleteNoteId = noteId;\n    const deleteNoteIndex = notes.map((note) => { return note.id; }).indexOf(deleteNoteId);\n    const deletedNote = notes[deleteNoteIndex];\n\n    newArr.splice(deleteNoteIndex, 1);\n    dispatch(deleteNote(deletedNote));\n    dispatch(receiveNotes(newArr));\n\n  };\n};\n\nexport const deleteNotesFromDatabase = (deleteNotesArr) => {\n  deleteNotesArr.forEach(note => {\n    axios.delete(`/api/notes/${note.id}`)\n      .then((deleted) => (console.log('DELETED NOTES', deleted)))\n      .catch(err => console.log('deleteNotes from datatbase had an error'));\n\n  });\n};\n\nexport function getAllNotes({userId, boardId}) {\n  return dispatch =>\n    axios.get('/api/notes/', {params: {userId, boardId}})\n      .then(res => {\n        return res.data;\n      })\n      .then(notes => dispatch(receiveNotes(notes)))\n      .catch(err => console.warn(err));\n}\n\n\nexport function createNote(note, boardId) {\n  return dispatch =>\n    axios.post('/api/notes/', {\n      content: note.content,\n      color  : note.color,\n      boardId: boardId || note.boardId\n    })\n      .then(({data}) => {\n        dispatch(socketEmit('note', data));\n      })\n      .catch(err => console.warn(err));\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/actions/note.js\n **/","import sh from 'shorthash';\nimport { randomString } from 'ROOT/lib/utils/random';\n\n// 6 letter alpha numeric room name generator\nexport const genRoomName = () => {\n  const range = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  return randomString(6, 6, range);\n};\n\n// returns unique hash from any given str\nexport const genShortHash = (val) => {\n  let string;\n  if (typeof val === 'string') string = val;\n  else if (val.toString) string = val.toString();\n  else throw new Error(`What on earth did you just give me? I don't want ${val}`);\n\n  return sh.unique(string);\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/utils/stringHash.js\n **/","import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport CreateBoard from '../components/CreateBoard';\nimport {createBoard} from '../actions/board';\nimport {getAllNotes} from '../actions/note';\nimport {genShortHash} from '../utils/stringHash';\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    user       : state.userReducer.loggedInUser,\n    boards     : state.board.allBoards,\n    permissions: state.board.permissions\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    create: (boardName) => {\n      dispatch(createBoard(boardName, genShortHash(boardName)));\n    },\n    onBoardEnter: function() {\n      dispatch(getAllNotes({}));\n    }\n  };\n};\n\nexport class CB extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      filterStatus: 'all'\n    };\n\n    this.filterChange = this.filterChange.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.onBoardEnter();\n\n  }\n\n  filterChange(filterValue) {\n    this.setState({filterStatus: filterValue});\n  }\n\n  render() {\n    return (\n      <CreateBoard\n        user={this.props.user}\n        boards={this.props.boards}\n        permissions={this.props.permissions}\n        create={this.props.create}\n        filterStatus={this.state.filterStatus}\n        filterChange={this.filterChange}\n      />\n    );\n  }\n}\n\nconst CreateBoardContainer = connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(CB);\n\nexport default CreateBoardContainer;\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/containers/CreateBoardContainer.js\n **/","import axios from 'axios';\n\nimport {RECEIVE_BOARD, RECEIVE_BOARDS, ADD_NEW_BOARD, RECEIVE_BOARD_NOTES} from '../constants';\n\nexport const receiveBoard = (board) => {\n  return {\n    type: RECEIVE_BOARD,\n    board\n  };\n};\n\nexport const receiveAllBoards = (boards, permissions) => ({\n  type: RECEIVE_BOARDS,\n  boards,\n  permissions\n});\n\nexport const addNewBoard = (board, permission) => ({\n  type: ADD_NEW_BOARD,\n  board,\n  permission\n});\n\n\nexport const getAllBoards = () => {\n  return dispatch => {\n    return axios.get('/api/boards/')\n      .then((res) => res.data)\n      .then((boards) => {\n        dispatch(receiveAllBoards(boards.boards, boards.permissions));\n      });\n  };\n};\n\n\nexport const createBoard = (boardName, hash) => {\n  return dispatch => {\n    return axios.post('/api/boards/', {boardName, hash})\n      .then((res) => res.data)\n      .then((board) => {\n        dispatch(addNewBoard(board.board, board.permission));\n      });\n  };\n};\n\n\nexport const getBoard = (boardHash) => (dispatch) => {\n  return axios.get(`/api/boards/${boardHash}`)\n    .then((res) => res.data)\n    .then((board) => {\n      dispatch(receiveBoard(board));\n    });\n};\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/actions/board.js\n **/"],"sourceRoot":""}