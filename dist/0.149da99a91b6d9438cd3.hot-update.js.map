{"version":3,"sources":["webpack:///./client/containers/BoardContainer.js?8288"],"names":["ReactDOM","require","noop","Clipboard","createClass","propTypes","value","PropTypes","string","isRequired","className","style","object","onCopy","func","getDefaultProps","position","overflow","clip","height","width","margin","padding","border","componentDidMount","document","addEventListener","handleKeyDown","handleKeyUp","componentWillUnmount","removeEventListener","render","props","handleCopy","e","metaKeyIsDown","ctrlKey","metaKey","textIsSelected","window","getSelection","toString","element","findDOMNode","focus","select","blur","BoardContainer","showNoteComments","hideNoteComments","dispatch","board","notes","boardId","id","color","content","noteId","console","log","selectedNoteDetail","location","host","port","hash","selectedNoteDetails","right","top","zIndex","name","mapStateToProps","state","selectedBoard","noteReducer","all","mapDispatchToProps","socketConnect","socketDisconnect","clearSocketListeners"],"mappings":"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","file":"0.149da99a91b6d9438cd3.hot-update.js","sourcesContent":["import React, {Component} from 'react';\nconst ReactDOM = require('react-dom');\nimport {Link} from 'react-router';\nimport store from '../store';\nimport {connect} from 'react-redux';\nimport io from 'socket.io-client';\nimport CustomDragLayerContainer from './CustomDragLayerContainer';\nimport ParticipantsContainer from './ParticipantsContainer';\nimport { socketConnect, socketDisconnect, clearSocketListeners } from '../actions/socketio';\nimport { bindActionCreators } from 'redux';\nimport bindHandlers from '../utils/bindHandlers';\nimport NoteDetailsContainer from './NoteDetailsContainer';\nimport { selectedNoteDetail } from '../actions/note';\n\n// import Clipboard from 'react-clipboard';\n\n// localhost:3030/note?board=${this.props.board.hash}\nfunction noop() {}\n\nconst Clipboard = React.createClass({\n\n  propTypes: {\n    value    : React.PropTypes.string.isRequired,\n    className: React.PropTypes.string,\n    style    : React.PropTypes.object,\n    onCopy   : React.PropTypes.func\n  },\n\n  getDefaultProps: function() {\n    return {\n      className: 'clipboard',\n      style    : {\n        position: 'fixed',\n        overflow: 'hidden',\n        clip    : 'rect(0 0 0 0)',\n        height  : 1,\n        width   : 1,\n        margin  : -1,\n        padding : 0,\n        border  : 0\n      },\n      onCopy: noop\n    };\n  },\n\n  componentDidMount: function() {\n    document.addEventListener('keydown', this.handleKeyDown, false);\n    document.addEventListener('keyup', this.handleKeyUp, false);\n  },\n\n  componentWillUnmount: function() {\n    document.removeEventListener('keydown', this.handleKeyDown, false);\n    document.removeEventListener('keyup', this.handleKeyUp, false);\n  },\n\n  render: function() {\n    return <textarea {...this.props} readOnly={true} onCopy={this.handleCopy} />;\n  },\n\n  handleCopy: function(e) {\n    this.props.onCopy(e);\n  },\n\n  handleKeyDown: function(e) {\n    const metaKeyIsDown = (e.ctrlKey || e.metaKey);\n    const textIsSelected = window.getSelection().toString();\n\n    if (!metaKeyIsDown || textIsSelected) {\n      return;\n    }\n\n    const element = ReactDOM.findDOMNode(this);\n    element.focus();\n    element.select();\n  },\n\n  handleKeyUp: function(e) {\n    const element = ReactDOM.findDOMNode(this);\n    element.blur();\n  }\n\n});\n\n\nclass BoardContainer extends Component {\n\n  constructor(props) {\n    super(props);\n    bindHandlers(this,\n      this.showNoteComments,\n      this.hideNoteComments\n    );\n\n  }\n\n  componentWillMount() {\n    const { dispatch, board, notes} = this.props;\n    const boardId = board.id;\n\n  }\n\n\n  showNoteComments(color, content, noteId) {\n    console.log('show note comments');\n    this.props.selectedNoteDetail({color, content, noteId});\n  }\n\n  hideNoteComments() {\n    this.props.selectedNoteDetail();\n  }\n\n\n  handleCopy(e) {\n    console.log('copied', e);\n  }\n\n  render() {\n\n    const value = `${window.location.host}${window.location.host === 'localhost' ? window.location.port : ''}/note?board=${this.props.board.hash}`;\n\n\n    return (\n      <div className=\"col-xs-12 board-page-container\" key={ this.props.board.id }>\n        {this.props.selectedNoteDetails ?\n          <NoteDetailsContainer\n            note={this.props.selectedNoteDetails}\n            hideNoteComments={this.hideNoteComments}\n          /> : null}\n        <div className='col-xs-12 clearfix'>\n          <div className=\"text-right ClipboardBlocking\" style={{position: 'absolute', right: '0', top: '0', zIndex: '100'}}>\n            <p>create note:</p>\n            <Link to={`/note?board=${this.props.board.hash}`}>\n              <div>{value}</div>\n              <Clipboard value={value}\n                onCopy={this.handleCopy} />\n\n            </Link>\n          </div>\n          <Link to={`/note?board=${this.props.board.hash}`}>\n            <h2 className=\"boardTitle text-center\" style={{width: '10em', margin: '.5em auto', zIndex: 30}}>{ this.props.board.name }</h2>\n          </Link>\n        </div>\n        <div>\n            <div>\n              <CustomDragLayerContainer {...this.props} showNoteComments={this.showNoteComments}/>\n            </div>\n          </div>\n          <ParticipantsContainer />\n      </div>\n    );\n  }\n}\n\n\nconst mapStateToProps = (state) => ({\n  board              : state.board.selectedBoard,\n  notes              : state.noteReducer.all,\n  hash               : state.board.selectedBoard.hash,\n  selectedNoteDetails: state.noteReducer.selectedNoteDetails\n});\n\nconst mapDispatchToProps = (dispatch) => {\n  return bindActionCreators({socketConnect, socketDisconnect, clearSocketListeners, selectedNoteDetail }, dispatch);\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BoardContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/containers/BoardContainer.js\n **/"],"sourceRoot":""}