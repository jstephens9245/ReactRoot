{"version":3,"sources":["webpack:///./client/containers/SignupContainer.js?9ae4"],"names":["SignupContainer","props","state","type","firstName","lastName","email","username","password","display","dirty","wobbleError","submitForm","bind","handleInput","changeForm","loginForm","checkLoginStatus","setState","nextProps","loggedInUser","router","push","e","preventDefault","createUser","then","result","message","loginUser","target","name","value","warning","mapStateToProps","userReducer","mapDispatchToProps","dispatch","res"],"mappings":"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","file":"0.519647a0455c01b62f84.hot-update.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\nimport {connect} from 'react-redux';\nimport {createUser, loginUser, checkLoginStatus} from '../actions/user';\nimport Signup from '../components/Signup';\nimport Login from '../components/Login';\n\nimport isEmpty from 'lodash/isEmpty';\nimport ReactTransitionGroup from 'react-addons-css-transition-group';\n\n\nexport class SignupContainer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      type       : 'signup',\n      firstName  : '',\n      lastName   : '',\n      email      : '',\n      username   : '',\n      password   : '',\n      display    : false,\n      dirty      : false,\n      wobbleError: ''\n    };\n\n    this.submitForm = this.submitForm.bind(this);\n    this.handleInput = this.handleInput.bind(this);\n    this.changeForm = this.changeForm.bind(this);\n    this.loginForm = this.loginForm.bind(this);\n  }\n\n  componentDidMount() {\n    this.props.checkLoginStatus();\n    this.setState({display: true});\n  }\n\n  componentWillReceiveProps(props, nextProps) {\n    if (!isEmpty(props.loggedInUser)) {\n      this.props.router.push('/boards');\n    }\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    this.props.createUser(this.state.firstName,\n    this.state.lastName, this.state.email, this.state.username, this.state.password)\n      .then(result => {\n        if (result.message && result.message === 'Request failed with status code 409') {\n          this.setState({dirty: true});\n        }\n      });\n  }\n\n  loginForm(e) {\n    e.preventDefault();\n    this.props.loginUser(this.state.email, this.state.password, this);\n  }\n\n  changeForm(type) {\n    this.setState({type: type});\n    this.setState({dirty: false});\n  }\n\n  handleInput(e) {\n    this.setState({[e.target.name]: e.target.value});\n  }\n\n  render() {\n    const dirty = this.state.dirty;\n    let warning = '';\n    let wobbleError = '';\n\n    if (dirty && this.state.type === 'login') {\n      warning = 'Password or Email is Invalid';\n      wobbleError = 'hvr-wobble-horizontal';\n    } else if (dirty && this.state.type === 'signup') {\n      warning = 'Username or Email is Unavailable';\n      wobbleError = 'hvr-wobble-horizontal';\n    }\n\n    return (\n      <ReactTransitionGroup\n      transitionName=\"slideIn\"\n      transitionAppear={true}\n      transitionAppearTimeout={500}\n      transitionEnterTimeout={500}\n      transitionLeaveTimeout={500}>\n        <div className={`form-container ${this.state.type}`} >\n          {this.state.type === 'signup' ?\n            <Signup submitForm={this.submitForm}\n                    changeForm={this.changeForm}\n                    handleInput={this.handleInput}\n                    warning={warning} />\n                    :\n            <Login loginForm={this.loginForm}\n                  handleInput={this.handleInput}\n                  changeForm={this.changeForm}\n                  warning={warning} />\n          }\n        </div>\n    </ReactTransitionGroup>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  loggedInUser: state.userReducer.loggedInUser\n});\n\nconst mapDispatchToProps = (dispatch) => ({\n  createUser: (firstName, lastName, email, username, password) =>\n  dispatch(createUser(firstName, lastName, email, username, password)),\n  loginUser: (email, password, state) => {\n    dispatch(loginUser(email, password))\n    .then(res => {\n      if (res) {\n        state.setState({dirty: true});\n      }\n    });\n  },\n  checkLoginStatus: () => dispatch(checkLoginStatus())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SignupContainer);\n\n\n\n/** WEBPACK FOOTER **\n ** ./client/containers/SignupContainer.js\n **/"],"sourceRoot":""}